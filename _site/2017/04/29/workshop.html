<h1 id="how-to-prepare-your-ubuntu-1604-or-macos-sierra-10125-system-for-machine-learning-cpu-configuration">How to prepare your Ubuntu 16.04 or macOS Sierra 10.12.5 system for Machine Learning (CPU configuration)</h1>

<p>Machine Learning is one of the most interesting and emerging research field in Computer Science today. Hundreds of efficient libraries are getting published each day. Often it’s very difficult for students to keep up with this pace and setup a personal system for practice machine learning. Keeping that in mind, we’ve listed a series of simple steps to setup a working ML system from scratch through command-line with required explanation for each command.</p>

<p>As Python has been the most widely used and user friendly coding language for ML purpose, we are providing instructions for Python 2.7 (or higher). Similarly, Python 3 (or higher) can also be installed depending on specific user requirements.</p>

<h3 id="step-1-pre-requisites">Step 1: Pre-requisites</h3>
<p>Before we start on python setup, make sure your system fulfills the some <strong>pre-requisites</strong>.</p>

<p>Check if your mac system has brew installed as package manager. If not, follow the <a href="https://brew.sh/">link</a> for installation of Homebrew. If brew is already in your system, then update it:</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>brew update
<span class="gp">$ </span>brew doctor
</code></pre>
</div>
<p>If something is wrong with your brew installation, brew doctor will tell you the commands to rectify those.</p>

<p>Ubuntu users, update your system:</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>sudo apt-get update
</code></pre>
</div>

<h3 id="step-2-installing-python-and-anaconda">Step 2: Installing Python and Anaconda</h3>
<p>Check your existing python location:</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>which python
</code></pre>
</div>

<p>In almost every unix system (Ubuntu or Mac) python comes pre-installed with the OS, but we recommend setting up a separate python for ML work so that in case something goes wrong the base OS doesn’t have to handle that. For installing a new python, we suggest Anaconda. This can be downloaded from <a href="https://www.continuum.io/downloads">here</a>.
Once installed, run the commands:</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>which python
<span class="gp">$ </span>which conda
</code></pre>
</div>
<p>to check whether you now have anaconda location as default python location. If not, add the anaconda path to your bash profile. Here, we assume it was installed in ~/anaconda. Open ~/.bash_profile (~/.bashrc for Ubuntu users) in your favourite editor, add the line, and save it.</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="nb">export </span><span class="nv">PATH</span><span class="o">=</span><span class="nv">$HOME</span>/anaconda/bin:<span class="nv">$PATH</span>

</code></pre>
</div>
<p>Restart your terminal session via ( for Ubuntu, $ source ~/.bashrc)</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span><span class="nb">source</span> ~/.bash_profile
</code></pre>
</div>

<p>If you have already installed Anaconda then check if it is updated, else update it.</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>conda -V
<span class="gp">$ </span>conda update conda
</code></pre>
</div>
<p>Type ‘<strong>y</strong>’ to proceed, if the terminal asks for it for updating any specific packages(s).</p>

<h3 id="step-3-creating-virtual-anaconda-environment">Step 3: Creating virtual Anaconda environment</h3>

<p>Now, why do we need to create virtual conda environment?</p>

<p>//</p>

<p>Create a conda environment for Python version=2.7 with an alias. The same can be done for Python version=3.5 as well. It will install all the Python libraries associated with the Python version mentioned in the command.</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>conda create -n <span class="o">[</span>name_of_the_environment] <span class="nv">python</span><span class="o">=[</span>version]
</code></pre>
</div>
<p>If Your default python is not Anaconda then you need to explicitly mention that in your command so that the environment uses Anaconda and not your system’s default python.</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code>conda create -n <span class="o">[</span>name_of_the_environment] <span class="nv">python</span><span class="o">=[</span>version] anaconda
</code></pre>
</div>
<p>Press ‘<strong>y</strong>’ when the prompt asks for your confirmation to proceed further.</p>

<h3 id="step-4-update-pip">Step 4: Update pip</h3>

<p>Update pip for Python 2.7:</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>pip install --upgrade
</code></pre>
</div>
<p>Same can be done for Python 3.5:</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code>pip3 install --upgrade
</code></pre>
</div>

<h3 id="step-5-activate-the-virtual-environment">Step 5: Activate the virtual environment</h3>

<p>Now, why do we need to activate the virtual conda environment?</p>

<p>We need to activate the virtual environment everytime we need to switch to the environment. Activation of the conda environment will modify the current path you are in and will get switched to the virtual environment you have created. Untill you deactivate the virtual environment, the shell variables will all point to the same. The command prompt will show the alias you have created for your environment. The following activates the environment:</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span><span class="nb">source </span>activate <span class="o">[</span>name_of_the_environment]
</code></pre>
</div>

<h3 id="step-6-update-pip-inside-your-virtual-environment">Step 6: Update pip inside your virtual environment</h3>

<p>Same as we did before outside the virtual environment, we can update pip for Python 2.7 inside the environment now.</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>pip install --upgrade
</code></pre>
</div>
<p>Same can be done for Python 3.5:</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code>pip3 install --upgrade
</code></pre>
</div>

<h3 id="step-7-installing-tensorflow-in-the-virtual-environment">Step 7: Installing Tensorflow in the virtual environment</h3>

<p>Install Tensorflow inside this newly created virtual environment for Python 2.7.</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>pip install tensorflow
</code></pre>
</div>
<p>Or you can run the following command for Python 3.5</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>pip3 install tensorflow
</code></pre>
</div>
<p>Outside this environment or once you deactivate the environment tensorflow will no longer be available.</p>

<h3 id="step-8-check-successful-installation-of-tensorflow">Step 8: Check successful installation of Tensorflow</h3>

<p>Once, you have installed Tensorflow into your environment, check if it has been installed successfully.</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>python
<span class="gp">$ </span>import tensorflow
</code></pre>
</div>
<p>If the prompt returns after executing these two command, then the installation is working fine.</p>

<p>Now, get out of the Python prompt:</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span><span class="nb">exit</span><span class="o">()</span>
</code></pre>
</div>

<h3 id="step-9-install-additional-python-packages-like-keras">Step 9: Install additional Python packages like Keras</h3>

<p>We can install additional Python package inside this  environment like Keras, which will use Tensorflow as backend. For Python 2.7:</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>pip install keras
</code></pre>
</div>
<p>Or for Python 3.5 it goes:</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>pip3 install keras
</code></pre>
</div>
<p>Caution: if you are still inside the Python prompt then run <code class="highlighter-rouge">exit()</code> command first and then install keras.</p>

<h3 id="step-10-check-successful-installation-of-keras">Step 10: Check successful installation of Keras</h3>

<p>Similarly, check if Keras has been installed successfully.</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>python
<span class="gp">$ </span>import keras
</code></pre>
</div>
<p>If the prompt returns after executing these two command, then the installation is working fine.</p>

<p>Once again, get out of the Python prompt:</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span><span class="nb">exit</span><span class="o">()</span>
</code></pre>
</div>

<h3 id="step-11-deactivating-a-virtual-environment">Step 11: Deactivating a virtual environment</h3>

<p>To terminate a session in the virtual environment, run the command:</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span><span class="nb">source </span>deactivate
</code></pre>
</div>
<p>after the word deactivate name of the environment is optional. If you do not put it explicitly it will terminate the current virtual environment you are in. Once you deactivate the virtual environment, you get back to your old path.</p>

<hr />

<ol>
  <li>Delete a no longer needed virtual environment</li>
</ol>

<p>To delete a conda environment, enter the following, where yourenvname is the name of the environment you wish to delete.
conda remove -n yourenvname -all</p>

<p>conda info -e
  257  python
  258  jupyter notebook
  259  conda install nbconda
  260  conda install nb_conda
  261  jupyter notebook
  262  conda install ipykernel
  263  conda install jupyter
  264  jupyter notebook
  265  source deactivate tf
  266  conda install nb_conda
  267  source activate tf
  268  jupyter notebook
  269  jupyter notebook
  270  source deactivate tf
  271  history
  272  tree Blog
  273  history » ~/Desktop/Coding/Blog/Dl_prep_script.txt
subl ~/.bash_profile
source ~/.bash_profile
  alias tfactivate=”source activate tf”
alias thactivate=”source activate th”
alias deactivate=”source deactivate”
alias bashreboot=”source ~/.bash_profile”</p>

<p>Basic useful feature list:</p>

<ul>
  <li>Ctrl+S / Cmd+S to save the file</li>
  <li>Ctrl+Shift+S / Cmd+Shift+S to choose to save as Markdown or HTML</li>
  <li>Drag and drop a file into here to load it</li>
  <li>File contents are saved in the URL so you can share files</li>
</ul>

<p>I’m no good at writing sample / filler text, so go write something yourself.</p>

<p>Look, a list!</p>

<ul>
  <li>foo</li>
  <li>bar</li>
  <li>baz</li>
</ul>

<p>And here’s some code! :+1:</p>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="err">$</span><span class="p">(</span><span class="n">function</span><span class="p">(){</span>
  <span class="err">$</span><span class="p">(</span><span class="s">'div'</span><span class="p">)</span><span class="o">.</span><span class="n">html</span><span class="p">(</span><span class="s">'I am a div.'</span><span class="p">);</span>
<span class="p">});</span>
<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
	<span class="n">end</span>
</code></pre>
</div>

<p>This is <a href="https://github.com/jbt/markdown-editor">on GitHub</a> so let me know if I’ve b0rked it somewhere.</p>

<p>Props to Mr. Doob and his <a href="http://mrdoob.com/projects/code-editor/">code editor</a>, from which
the inspiration to this, and some handy implementation hints, came.</p>

<h3 id="stuff-used-to-make-this">Stuff used to make this:</h3>

<ul>
  <li><a href="https://github.com/markdown-it/markdown-it">markdown-it</a> for Markdown parsing</li>
  <li><a href="http://codemirror.net/">CodeMirror</a> for the awesome syntax-highlighted editor</li>
  <li><a href="http://softwaremaniacs.org/soft/highlight/en/">highlight.js</a> for syntax highlighting in output code blocks</li>
  <li><a href="https://github.com/dankogai/js-deflate">js-deflate</a> for gzipping of data to make it fit in URLs</li>
</ul>
